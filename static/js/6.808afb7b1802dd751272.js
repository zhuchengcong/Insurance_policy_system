webpackJsonp([6],{741:function(t,e,a){a(772);var n=a(20)(a(753),a(784),null,null);t.exports=n.exports},748:function(t,e,a){"use strict";function n(t,e){var a,n,r=0,o=0;try{r=t.toString().split(".")[1].length}catch(t){}try{o=e.toString().split(".")[1].length}catch(t){}return a=Number(t.toString().replace(".","")),n=Number(e.toString().replace(".","")),0==n?1/0:a/n*Math.pow(10,o-r)}function r(t,e){var a=0,n=t.toString(),r=e.toString();try{a+=n.split(".")[1].length}catch(t){}try{a+=r.split(".")[1].length}catch(t){}return Number(n.replace(".",""))*Number(r.replace(".",""))/Math.pow(10,a)}function o(t,e){var a,n,r;try{a=t.toString().split(".")[1].length}catch(t){a=0}try{n=e.toString().split(".")[1].length}catch(t){n=0}return r=Math.pow(10,Math.max(a,n)),(t*r+e*r)/r}function l(t,e){var a,n,r,o;try{a=t.toString().split(".")[1].length}catch(t){a=0}try{n=e.toString().split(".")[1].length}catch(t){n=0}return r=Math.pow(10,Math.max(a,n)),o=a>=n?a:n,((e*r-t*r)/r).toFixed(o)}Object.defineProperty(e,"__esModule",{value:!0}),Number.prototype.add=function(t){return o(t,this)},Number.prototype.sub=function(t){return l(t,this)},Number.prototype.mul=function(t){return r(t,this)},Number.prototype.div=function(t){return n(this,t)},e.accDiv=n,e.accMul=r,e.accAdd=o,e.accSub=l},753:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(158),o=n(r),l=a(157),i=n(l),s=a(156),c=n(s);a(748);e.default={data:function(){return{filters:{},orders:[],pageNum:1,pageSize:20,total:0,addUserinfo:{group:2},addDialog:!1,editDialog:!1,editUserinfo:{},matchDialog:!1,match:[]}},created:function(){this.getOrders()},methods:{handleCurrentChange:function(t){this.page=t,this.getOrders()},getOrders:function(){var t=this;return(0,c.default)(i.default.mark(function e(){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios("ChannelMatch/",{params:{search:t.filters.name,page:t.page}});case 2:a=e.sent,console.log(a),t.orders=a.data,t.total=a.count;case 6:case"end":return e.stop()}},e,t)}))()},handleEdit:function(t,e){this.editDialog=!0,this.editUserinfo=(0,o.default)({},e)},delOrder:function(t,e){var a=this;return(0,c.default)(i.default.mark(function t(){var n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.$axios.delete("ChannelMatch/"+e.id);case 2:n=t.sent,console.log(n),a.getOrders();case 5:case"end":return t.stop()}},t,a)}))()},addUser:function(){var t=this;return(0,c.default)(i.default.mark(function e(){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.post("ChannelMatch/",t.addUserinfo);case 2:a=e.sent,t.addDialog=!1,t.getOrders();case 5:case"end":return e.stop()}},e,t)}))()},editUser:function(){var t=this;return(0,c.default)(i.default.mark(function e(){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.put("ChannelMatch/"+t.editUserinfo.id+"/",t.editUserinfo);case 2:a=e.sent,console.log(a),t.editDialog=!1,t.getOrders();case 6:case"end":return e.stop()}},e,t)}))()},matchInsurance:function(){var t=this;return(0,c.default)(i.default.mark(function e(){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios("ChannelMatch/match_insurance");case 2:a=e.sent,t.match=a.data,t.$message.success("匹配成功"+a.succ_count+"条保单"),t.matchDialog=!0;case 6:case"end":return e.stop()}},e,t)}))()}}}},763:function(t,e,a){e=t.exports=a(738)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"ChannelMatch.vue",sourceRoot:""}])},772:function(t,e,a){var n=a(763);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(739)("29774383",n,!0)},784:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:t.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"模糊查询"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getOrders.apply(null,arguments)}},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.getOrders}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addDialog=!0}}},[t._v("新增")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.matchInsurance}},[t._v("按照规则匹配所有未匹配渠道的保单")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orders,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"channel_name",label:"匹配渠道",width:"200",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"applicant",label:"投保人",width:"200",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"insured",label:"被保险人",width:"200",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"vehicel_owner",label:"车主",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"320"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return t.delOrder(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":t.pageSize,total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"新增用户",visible:t.addDialog},on:{"update:visible":function(e){t.addDialog=e}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:t.addUserinfo,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"渠道"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addUserinfo.channel_name,callback:function(e){t.$set(t.addUserinfo,"channel_name",e)},expression:"addUserinfo.channel_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"投保人"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addUserinfo.applicant,callback:function(e){t.$set(t.addUserinfo,"applicant",e)},expression:"addUserinfo.applicant"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"被保险人"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addUserinfo.insured,callback:function(e){t.$set(t.addUserinfo,"insured",e)},expression:"addUserinfo.insured"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"车主"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addUserinfo.vehicel_owner,callback:function(e){t.$set(t.addUserinfo,"vehicel_owner",e)},expression:"addUserinfo.vehicel_owner"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addUser()}}},[t._v("提交")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"编辑供应商",visible:t.editDialog},on:{"update:visible":function(e){t.editDialog=e}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:t.editUserinfo,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"渠道"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editUserinfo.channel_name,callback:function(e){t.$set(t.editUserinfo,"channel_name",e)},expression:"editUserinfo.channel_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"投保人"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editUserinfo.applicant,callback:function(e){t.$set(t.editUserinfo,"applicant",e)},expression:"editUserinfo.applicant"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"被保险人"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editUserinfo.insured,callback:function(e){t.$set(t.editUserinfo,"insured",e)},expression:"editUserinfo.insured"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"车主"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editUserinfo.vehicel_owner,callback:function(e){t.$set(t.editUserinfo,"vehicel_owner",e)},expression:"editUserinfo.vehicel_owner"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.editUser()}}},[t._v("提交")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"匹配保单",visible:t.matchDialog,width:"60%"},on:{"update:visible":function(e){t.matchDialog=e}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.match,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"commercial_insure_no",label:"商业险投保单号",width:"200",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"commercial_insurance_no",label:"商业险保单号",width:"200",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"jiaoqiang_insure_no",label:"交强险投保单号",width:"200",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"jiaoqiang_insurance_no",label:"交强险保单号",width:"200",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"matched",label:"匹配结果",width:"200",sortable:""}})],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.matchDialog=!1}}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=6.808afb7b1802dd751272.js.map