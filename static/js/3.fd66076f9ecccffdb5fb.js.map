{"version":3,"sources":["webpack:///js/3.fd66076f9ecccffdb5fb.js","webpack:///./src/views/Insurance/Settlements.vue","webpack:///./src/util/calculate.js?0af6*","webpack:///Settlements.vue","webpack:///./src/views/Insurance/Settlements.vue?fdea","webpack:///./src/views/Insurance/Settlements.vue?21f5","webpack:///./src/views/Insurance/Settlements.vue?40bd"],"names":["webpackJsonp","746","module","exports","__webpack_require__","Component","748","accDiv","arg1","arg2","r1","r2","t1","t2","toString","split","length","e","Number","replace","Infinity","Math","pow","accMul","m","s1","s2","accAdd","max","accSub","n","toFixed","Object","defineProperty","value","prototype","add","arg","this","sub","mul","div","758","_interopRequireDefault","obj","__esModule","default","_assign","_assign2","_typeof2","_typeof3","_regenerator","_regenerator2","_asyncToGenerator2","_asyncToGenerator3","_calculate","data","loading","options","filters","settlement_status","datetimerange","orders","pageNum","pageSize","total","multipleSelection","settlementDialog","settlementData","settlement_date","Date","receiving_account","note","settlement_method","methods","handleSelectionChange","val","handleCurrentChange","page","getOrders","showSettlementDialog","actual_settlement_fee","insurance_arr","i","this_","$message","info","push","id","settlement_fee","isNaN","console","log","getSummaries","columns","forEach","index","sums","values","every","reduce","prev","curr","767","776","content","locals","788","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","nativeOn","$event","type","indexOf","_k","keyCode","key","apply","arguments","model","callback","$$v","$set","expression","_v","_l","item","label","on","directives","name","rawName","ref","scopedSlots","_u","fn","scope","row","_s","commercial_insurance_amount_fee","jiaoqiang_insurance_amount_fee","total_amount","settlements_id","settlementForm","subSettlement","jiaoqiang_insurance_no","slot","staticRenderFns"],"mappings":"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","file":"js/3.fd66076f9ecccffdb5fb.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 746:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(776)\n\nvar Component = __webpack_require__(20)(\n  /* script */\n  __webpack_require__(758),\n  /* template */\n  __webpack_require__(788),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 748:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nfunction accDiv(arg1, arg2) {\n\tvar t1 = 0,\n\t    t2 = 0,\n\t    r1,\n\t    r2;\n\ttry {\n\t\tt1 = arg1.toString().split(\".\")[1].length;\n\t} catch (e) {}\n\ttry {\n\t\tt2 = arg2.toString().split(\".\")[1].length;\n\t} catch (e) {}\n\tr1 = Number(arg1.toString().replace(\".\", \"\"));\n\tr2 = Number(arg2.toString().replace(\".\", \"\"));\n\tif (r2 == 0) {\n\t\treturn Infinity;\n\t} else {\n\t\treturn r1 / r2 * Math.pow(10, t2 - t1);\n\t}\n}\n\nfunction accMul(arg1, arg2) {\n\tvar m = 0,\n\t    s1 = arg1.toString(),\n\t    s2 = arg2.toString();\n\ttry {\n\t\tm += s1.split(\".\")[1].length;\n\t} catch (e) {}\n\ttry {\n\t\tm += s2.split(\".\")[1].length;\n\t} catch (e) {}\n\n\treturn Number(s1.replace(\".\", \"\")) * Number(s2.replace(\".\", \"\")) / Math.pow(10, m);\n}\n\nfunction accAdd(arg1, arg2) {\n\tvar r1, r2, m;\n\ttry {\n\t\tr1 = arg1.toString().split(\".\")[1].length;\n\t} catch (e) {\n\t\tr1 = 0;\n\t}\n\ttry {\n\t\tr2 = arg2.toString().split(\".\")[1].length;\n\t} catch (e) {\n\t\tr2 = 0;\n\t}\n\tm = Math.pow(10, Math.max(r1, r2));\n\treturn (arg1 * m + arg2 * m) / m;\n}\n\nfunction accSub(arg1, arg2) {\n\tvar r1, r2, m, n;\n\ttry {\n\t\tr1 = arg1.toString().split(\".\")[1].length;\n\t} catch (e) {\n\t\tr1 = 0;\n\t}\n\ttry {\n\t\tr2 = arg2.toString().split(\".\")[1].length;\n\t} catch (e) {\n\t\tr2 = 0;\n\t}\n\tm = Math.pow(10, Math.max(r1, r2));\n\n\tn = r1 >= r2 ? r1 : r2;\n\treturn ((arg2 * m - arg1 * m) / m).toFixed(n);\n}\n\nNumber.prototype.add = function (arg) {\n\treturn accAdd(arg, this);\n};\n\nNumber.prototype.sub = function (arg) {\n\treturn accSub(arg, this);\n};\n\nNumber.prototype.mul = function (arg) {\n\treturn accMul(arg, this);\n};\n\nNumber.prototype.div = function (arg) {\n\treturn accDiv(this, arg);\n};\n\nexports.accDiv = accDiv;\nexports.accMul = accMul;\nexports.accAdd = accAdd;\nexports.accSub = accSub;\n\n/***/ }),\n\n/***/ 758:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _assign = __webpack_require__(158);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _typeof2 = __webpack_require__(75);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _regenerator = __webpack_require__(157);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = __webpack_require__(156);\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _calculate = __webpack_require__(748);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      loading: false,\n      options: [{\n        settlement_status: 1,\n        label: \"已结算\"\n      }, {\n        settlement_status: 0,\n        label: \"未结算\"\n      }],\n\n      filters: {\n        settlement_status: null,\n        datetimerange: [\"2021-01-01\", \"2021-12-01\"]\n      },\n      orders: [],\n      pageNum: 1,\n      pageSize: 100,\n      total: 0,\n\n      multipleSelection: [],\n\n      settlementDialog: false,\n      settlementData: {\n        settlement_date: new Date(),\n        receiving_account: '',\n        note: '',\n        settlement_method: ''\n      }\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    return (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n      return _regenerator2.default.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.getOrders();\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, _this);\n    }))();\n  },\n\n  methods: {\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.page = val;\n      this.getOrders();\n    },\n    subSettlement: function subSettlement(settlementData) {\n      var _this2 = this;\n\n      return (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2() {\n        var res;\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!isNaN(settlementData.actual_settlement_fee)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _this2.$message.info(\"当前结算金额为0,请选择正确的保单进行结算\");\n                _this2.loading = false;\n                return _context2.abrupt(\"return\");\n\n              case 6:\n                if ((0, _typeof3.default)(settlementData.settlement_date) == \"object\") {\n                  settlementData.settlement_date = settlementData.settlement_date.format(\"yyyy-MM-dd hh:mm:ss\");\n                }\n                _context2.next = 9;\n                return _this2.$axios.post(\"Settlements/sub_settlements/\", settlementData);\n\n              case 9:\n                res = _context2.sent;\n\n                _this2.$message.success(res.message);\n                _this2.settlementDialog = false;\n                _this2.getOrders();\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this2);\n      }))();\n    },\n    showSettlementDialog: function showSettlementDialog() {\n      this.settlementData.actual_settlement_fee = 0;\n      this.settlementData.settlement_date = new Date();\n\n      this.settlementData.insurance_arr = [];\n\n      var this_ = this;\n\n      for (var i = 0; i < this.multipleSelection.length; i++) {\n        if (this.multipleSelection[i].settlement_status == 1) {\n          this_.settlementDialog = false;\n          this_.$message.info(\"包含已结算保单，请重新勾选\");\n          return null;\n        } else {\n          this_.settlementData.insurance_arr.push(this.multipleSelection[i].id);\n          this_.settlementData.actual_settlement_fee = (0, _calculate.accAdd)(this_.settlementData.actual_settlement_fee, this.multipleSelection[i].settlementForm.actual_settlement_fee);\n          this_.settlementData.settlement_fee = this_.settlementData.actual_settlement_fee;\n        }\n      }\n      if (isNaN(this_.settlementData.settlement_fee)) {\n        this.$message.info(\"包含未匹配费率的保单,请重新勾选\");\n        return;\n      }\n\n      console.log(this.multipleSelection);\n\n      this.settlementDialog = true;\n    },\n    getOrders: function getOrders() {\n      var _this3 = this;\n\n      return (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3() {\n        var res, data, _loop, i;\n\n        return _regenerator2.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this3.loading = true;\n\n                _context3.next = 3;\n                return _this3.$axios(\"InsurancePolicySettlements/\", {\n                  params: {\n                    page_size: _this3.pageSize,\n                    nature_of_use: _this3.filters.nature_of_use,\n                    chanel_rate_id__chanel: _this3.filters.chanel_rate_id__chanel,\n                    settlement_status: _this3.filters.settlement_status,\n                    startTime: _this3.filters.datetimerange[0],\n                    endTime: _this3.filters.datetimerange[1]\n                  }\n                });\n\n              case 3:\n                res = _context3.sent;\n                data = res.data;\n\n                if (!(data.length == 0 || !data)) {\n                  _context3.next = 9;\n                  break;\n                }\n\n                _this3.orders = data;\n                _this3.loading = false;\n                return _context3.abrupt(\"return\");\n\n              case 9:\n                _loop = function _loop(i) {\n                  var settlementForm = {};\n                  if (data[i].settlement_status == 0) {\n                    settlementForm.actual_settlement_fee = null;\n                    settlementForm.settlement_date = new Date();\n                    settlementForm.insurance_arr = [];\n                    settlementForm.insurance_arr.push(data[i].id);\n                    settlementForm.note = \"\";\n                    settlementForm.settlement_method = \"\";\n                    settlementForm.receiving_account = \"\";\n                  } else {}\n\n                  data[i].settlementForm = (0, _assign2.default)({}, settlementForm);\n\n                  _this3.$axios.post(\"Settlements/get_settlements_insurance/\", {\n                    insurance_id: data[i].id,\n                    nature_of_use: data[i].nature_of_use,\n                    generation_date: data[i].generation_date\n                  }).then(function (res) {\n\n                    var total_amount = (0, _calculate.accAdd)(res.data.commercial_insurance_amount_fee, res.data.jiaoqiang_insurance_amount_fee);\n\n                    var jiaoqiang_fee = res.data.jiaoqiang_fee;\n                    var commercial_fee = res.data.commercial_fee;\n\n                    var settlementForm_ = (0, _assign2.default)(data[i].settlementForm, {\n                      actual_settlement_fee: total_amount,\n                      settlement_fee: total_amount\n                    });\n                    _this3.$set(data, i, (0, _assign2.default)(data[i], {\n                      commercial_insurance_amount_fee: res.data.commercial_insurance_amount_fee + \" /费率:\" + commercial_fee + \"%\",\n                      jiaoqiang_insurance_amount_fee: res.data.jiaoqiang_insurance_amount_fee + \" /费率:\" + jiaoqiang_fee + \"%\",\n                      total_amount: total_amount,\n                      settlementForm: settlementForm_\n                    }));\n                  });\n                };\n\n                for (i = 0; i < data.length; i++) {\n                  _loop(i);\n                }\n\n                _this3.orders = data;\n                _this3.total = res.count;\n\n                _this3.loading = false;\n\n              case 14:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this3);\n      }))();\n    },\n    getSummaries: function getSummaries(param) {\n      var columns = param.columns,\n          data = param.data;\n\n      var sums = [];\n      columns.forEach(function (column, index) {\n        if (index === 0) {\n          sums[index] = \"总价\";\n          return;\n        }\n        var values = data.map(function (item) {\n          return Number(item[column.property]);\n        });\n        if (!values.every(function (value) {\n          return isNaN(value);\n        })) {\n          sums[index] = values.reduce(function (prev, curr) {\n            var value = Number(curr);\n            if (!isNaN(value)) {\n              return prev + curr;\n            } else {\n              return prev;\n            }\n          }, 0);\n          sums[index] += \" 元\";\n        } else {\n          sums[index] = \"N/A\";\n        }\n      });\n\n      return sums;\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 767:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(738)();\n// imports\n\n\n// module\nexports.push([module.i, \"#el_link{position:relative}.span_first{display:inline-block;width:100px}\", \"\", {\"version\":3,\"sources\":[\"D:/OutsourcingProject/Insurance_policy_system/InsuranceFront/src/views/Insurance/Settlements.vue\"],\"names\":[],\"mappings\":\"AACA,SACE,iBAAmB,CACpB,AACD,YACE,qBAAsB,AACtB,WAAa,CACd\",\"file\":\"Settlements.vue\",\"sourcesContent\":[\"\\n#el_link {\\n  position: relative;\\n}\\n.span_first {\\n  display: inline-block;\\n  width: 100px;\\n}\\n.span_end {\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 776:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(767);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(739)(\"6343fe51\", content, true);\n\n/***/ }),\n\n/***/ 788:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', [_c('el-col', {\n    staticClass: \"toolbar\",\n    staticStyle: {\n      \"padding-bottom\": \"0px\"\n    },\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-form', {\n    attrs: {\n      \"inline\": true,\n      \"model\": _vm.filters\n    }\n  }, [_c('el-form-item', [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"使用性质\"\n    },\n    nativeOn: {\n      \"keydown\": function($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) { return null; }\n        return _vm.getOrders.apply(null, arguments)\n      }\n    },\n    model: {\n      value: (_vm.filters.nature_of_use),\n      callback: function($$v) {\n        _vm.$set(_vm.filters, \"nature_of_use\", $$v)\n      },\n      expression: \"filters.nature_of_use\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"渠道\"\n    },\n    nativeOn: {\n      \"keydown\": function($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) { return null; }\n        return _vm.getOrders.apply(null, arguments)\n      }\n    },\n    model: {\n      value: (_vm.filters.chanel_rate_id__chanel),\n      callback: function($$v) {\n        _vm.$set(_vm.filters, \"chanel_rate_id__chanel\", $$v)\n      },\n      expression: \"filters.chanel_rate_id__chanel\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-date-picker', {\n    attrs: {\n      \"type\": \"daterange\",\n      \"range-separator\": \"至\",\n      \"start-placeholder\": \"保单生成开始时段\",\n      \"end-placeholder\": \"保单生成结束时段\",\n      \"value-format\": \"yyyy-MM-dd\"\n    },\n    model: {\n      value: (_vm.filters.datetimerange),\n      callback: function($$v) {\n        _vm.$set(_vm.filters, \"datetimerange\", $$v)\n      },\n      expression: \"filters.datetimerange\"\n    }\n  }), _vm._v(\" \"), _c('el-form-item', [_c('el-select', {\n    attrs: {\n      \"clearable\": \"\",\n      \"placeholder\": \"请选择\"\n    },\n    model: {\n      value: (_vm.filters.settlement_status),\n      callback: function($$v) {\n        _vm.$set(_vm.filters, \"settlement_status\", $$v)\n      },\n      expression: \"filters.settlement_status\"\n    }\n  }, _vm._l((_vm.options), function(item) {\n    return _c('el-option', {\n      key: item.settlement_status,\n      attrs: {\n        \"label\": item.label,\n        \"value\": item.settlement_status\n      }\n    })\n  }), 1)], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.getOrders\n    }\n  }, [_vm._v(\"筛选\")])], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    on: {\n      \"click\": _vm.showSettlementDialog\n    }\n  }, [_vm._v(\"结算当前选中\")])], 1), _vm._v(\" \"), _c('el-form-item')], 1)], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    ref: \"multipleTable\",\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.orders,\n      \"highlight-current-row\": \"\",\n      \"border\": \"\",\n      \"show-summary\": \"\"\n    },\n    on: {\n      \"selection-change\": _vm.handleSelectionChange\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"width\": \"55\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"nature_of_use\",\n      \"label\": \"使用性质\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"generation_date\",\n      \"label\": \"保单生成日期\",\n      \"sortable\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"commercial_insurance_no\",\n      \"label\": \"商业险保单号\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"jiaoqiang_insurance_no\",\n      \"label\": \"交强险保单号\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"applicant\",\n      \"label\": \"投保人\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"insured\",\n      \"label\": \"被保险人\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"commercial_insurance_amount\",\n      \"label\": \"商业险金额\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"jiaoqiang_insurance_amount\",\n      \"label\": \"交强险金额\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"vehicel_and_vessel_tax\",\n      \"label\": \"车船税\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"total_premium\",\n      \"label\": \"保费合计\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"salesman\",\n      \"label\": \"业务员\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"chanel_rate_id.chanel\",\n      \"label\": \"渠道\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"结算状态\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [(scope.row.settlement_status) ? _c('span', [_vm._v(\"是\")]) : _c('span', [_vm._v(\"否\")])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"结算金额\",\n      \"width\": \"200px\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('div', [_vm._v(\"商业险金额：\" + _vm._s(scope.row.commercial_insurance_amount_fee))]), _vm._v(\" \"), _c('div', [_vm._v(\"交强险金额：\" + _vm._s(scope.row.jiaoqiang_insurance_amount_fee))]), _vm._v(\" \"), _c('div', [_vm._v(\"总金额：\" + _vm._s(scope.row.total_amount))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"结算表单\",\n      \"width\": \"330px\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [(!scope.row.settlement_status) ? _c('div', [_c('div', [_vm._v(\"\\n            费率计算金额：\\n            \"), _c('el-tag', [_vm._v(_vm._s(scope.row.settlementForm.settlement_fee))])], 1), _vm._v(\" \"), _c('div', [_vm._v(\"\\n            实际结算金额：\\n            \"), _c('el-input-number', {\n          attrs: {\n            \"precision\": 2,\n            \"controls-position\": \"right\"\n          },\n          model: {\n            value: (scope.row.settlementForm.actual_settlement_fee),\n            callback: function($$v) {\n              _vm.$set(scope.row.settlementForm, \"actual_settlement_fee\", $$v)\n            },\n            expression: \"scope.row.settlementForm.actual_settlement_fee\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', [_vm._v(\"\\n            结算日期：\\n            \"), _c('el-date-picker', {\n          attrs: {\n            \"type\": \"datetime\",\n            \"placeholder\": \"选择日期时间\",\n            \"value-format\": \"yyyy-MM-dd HH:mm:ss\"\n          },\n          model: {\n            value: (scope.row.settlementForm.settlement_date),\n            callback: function($$v) {\n              _vm.$set(scope.row.settlementForm, \"settlement_date\", $$v)\n            },\n            expression: \"scope.row.settlementForm.settlement_date\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', [_c('span', {\n          staticStyle: {\n            \"width\": \"150px\"\n          }\n        }, [_vm._v(\"结算方式：\")]), _vm._v(\" \"), _c('div', {\n          staticStyle: {\n            \"width\": \"220px\",\n            \"display\": \"inline-block\"\n          }\n        }, [_c('el-input', {\n          attrs: {\n            \"placeholder\": \"结算方式\"\n          },\n          model: {\n            value: (scope.row.settlementForm.settlement_method),\n            callback: function($$v) {\n              _vm.$set(scope.row.settlementForm, \"settlement_method\", $$v)\n            },\n            expression: \"scope.row.settlementForm.settlement_method\"\n          }\n        })], 1)]), _vm._v(\" \"), _c('div', [_c('span', {\n          staticStyle: {\n            \"width\": \"150px\"\n          }\n        }, [_vm._v(\"收款账号：\")]), _vm._v(\" \"), _c('div', {\n          staticStyle: {\n            \"width\": \"220px\",\n            \"display\": \"inline-block\"\n          }\n        }, [_c('el-input', {\n          attrs: {\n            \"placeholder\": \"收款账号\"\n          },\n          model: {\n            value: (scope.row.settlementForm.receiving_account),\n            callback: function($$v) {\n              _vm.$set(scope.row.settlementForm, \"receiving_account\", $$v)\n            },\n            expression: \"scope.row.settlementForm.receiving_account\"\n          }\n        })], 1)]), _vm._v(\" \"), _c('div', [_c('span', [_vm._v(\"备注备注：\")]), _vm._v(\" \"), _c('div', {\n          staticStyle: {\n            \"width\": \"220px\",\n            \"display\": \"inline-block\"\n          }\n        }, [_c('el-input', {\n          attrs: {\n            \"placeholder\": \"备注\"\n          },\n          model: {\n            value: (scope.row.settlementForm.note),\n            callback: function($$v) {\n              _vm.$set(scope.row.settlementForm, \"note\", $$v)\n            },\n            expression: \"scope.row.settlementForm.note\"\n          }\n        })], 1)]), _vm._v(\" \"), _c('div', [_c('el-button', {\n          attrs: {\n            \"type\": \"primary\"\n          },\n          on: {\n            \"click\": function($event) {\n              return _vm.subSettlement(scope.row.settlementForm)\n            }\n          }\n        }, [_vm._v(\"结算\")])], 1)]) : _c('div', [_c('section', {\n          staticStyle: {\n            \"width\": \"300px\"\n          }\n        }, [_c('span', {\n          staticClass: \"span_first\"\n        }, [_vm._v(\" 结算单id：\")]), _vm._v(\"\\n            \" + _vm._s(scope.row.settlements_id.id) + \"\\n          \")]), _vm._v(\" \"), _c('section', {\n          staticStyle: {\n            \"width\": \"300px\"\n          }\n        }, [_c('span', {\n          staticClass: \"span_first\"\n        }, [_vm._v(\" 结算单id：\")]), _vm._v(\"\\n            实际结算金额:\\n            \" + _vm._s(scope.row.settlements_id.actual_settlement_fee) + \"\\n          \")]), _vm._v(\" \"), _c('section', {\n          staticStyle: {\n            \"width\": \"300px\"\n          }\n        }, [_c('span', {\n          staticClass: \"span_first\"\n        }, [_vm._v(\" 结算日期：\")]), _vm._v(\"\\n            结算日期：\\n            \" + _vm._s(scope.row.settlements_id.settlement_date) + \"\\n          \")]), _vm._v(\" \"), _c('section', [_c('span', {\n          staticClass: \"span_first\"\n        }, [_vm._v(\" 结算方式:\")]), _vm._v(\"\\n            \" + _vm._s(scope.row.settlements_id.settlement_method) + \"\\n          \")]), _vm._v(\" \"), _c('section', [_c('span', {\n          staticClass: \"span_first\"\n        }, [_vm._v(\" 收款账号：\")]), _vm._v(\"\\n            \" + _vm._s(scope.row.settlements_id.receiving_account) + \"\\n          \")]), _vm._v(\" \"), _c('section', [_c('span', {\n          staticClass: \"span_first\"\n        }, [_vm._v(\" 备注:\")]), _vm._v(\"\\n            \" + _vm._s(scope.row.settlements_id.note) + \"\\n          \")])])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('el-button', [_vm._v(\"结算当前选中\")]), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"toolbar\",\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-pagination', {\n    staticStyle: {\n      \"float\": \"right\"\n    },\n    attrs: {\n      \"layout\": \"prev, pager, next\",\n      \"page-size\": _vm.pageSize,\n      \"total\": _vm.total\n    },\n    on: {\n      \"current-change\": _vm.handleCurrentChange\n    }\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"结算页面\",\n      \"visible\": _vm.settlementDialog\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.settlementDialog = $event\n      }\n    }\n  }, [_c('el-form', {\n    staticClass: \"demo-form-inline\",\n    attrs: {\n      \"model\": _vm.settlementData,\n      \"label-width\": \"180px\",\n      \"inline\": true\n    }\n  }, [_c('div', [_c('h1', [_vm._v(\"选中的保单号\")]), _vm._v(\" \"), _vm._l((_vm.multipleSelection), function(item) {\n    return _c('span', {\n      key: item.id\n    }, [_vm._v(\"\\n          \" + _vm._s(item.jiaoqiang_insurance_no) + \"\\n        \")])\n  })], 2), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"结算总金额\"\n    }\n  }, [_vm._v(\"\\n        \" + _vm._s(_vm.settlementData.settlement_fee) + \"\\n      \")]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"实际结算总金额\"\n    }\n  }, [_c('el-input-number', {\n    attrs: {\n      \"precision\": 2,\n      \"controls-position\": \"right\"\n    },\n    model: {\n      value: (_vm.settlementData.actual_settlement_fee),\n      callback: function($$v) {\n        _vm.$set(_vm.settlementData, \"actual_settlement_fee\", $$v)\n      },\n      expression: \"settlementData.actual_settlement_fee\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"结算日期\"\n    }\n  }, [_c('el-date-picker', {\n    attrs: {\n      \"type\": \"datetime\",\n      \"placeholder\": \"选择日期时间\",\n      \"value-format\": \"yyyy-MM-dd HH:mm:ss\"\n    },\n    model: {\n      value: (_vm.settlementData.settlement_date),\n      callback: function($$v) {\n        _vm.$set(_vm.settlementData, \"settlement_date\", $$v)\n      },\n      expression: \"settlementData.settlement_date\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"结算方式\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.settlementData.settlement_method),\n      callback: function($$v) {\n        _vm.$set(_vm.settlementData, \"settlement_method\", $$v)\n      },\n      expression: \"settlementData.settlement_method\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"收款账号\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.settlementData.receiving_account),\n      callback: function($$v) {\n        _vm.$set(_vm.settlementData, \"receiving_account\", $$v)\n      },\n      expression: \"settlementData.receiving_account\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"备注\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.settlementData.note),\n      callback: function($$v) {\n        _vm.$set(_vm.settlementData, \"note\", $$v)\n      },\n      expression: \"settlementData.note\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.settlementDialog = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        return _vm.subSettlement(_vm.settlementData)\n      }\n    }\n  }, [_vm._v(\"提交\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/3.fd66076f9ecccffdb5fb.js","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-5a459812\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Settlements.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Settlements.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5a459812\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Settlements.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Insurance/Settlements.vue\n// module id = 746\n// module chunks = 3","//除法函数，用来得到精确的除法结果\n//说明：javascript的除法结果会有误差，在两个浮点数相除的时候会比较明显。这个函数返回较为精确的除法结果。\n//调用：accDiv(arg1,arg2)\n//返回值：arg1除以arg2的精确结果\nfunction accDiv(arg1, arg2) {\n\tvar t1 = 0, t2 = 0, r1, r2;\n\ttry { t1 = arg1.toString().split(\".\")[1].length } catch (e) { }\n\ttry { t2 = arg2.toString().split(\".\")[1].length } catch (e) { }\n  r1 = Number(arg1.toString().replace(\".\", \"\"));\n  r2 = Number(arg2.toString().replace(\".\", \"\"));\n  if(r2==0){\n    return Infinity;\n  }else{\n    return (r1 / r2) * Math.pow(10, t2 - t1);\n\t}\n}\n//乘法函数，用来得到精确的乘法结果\n//说明：javascript的乘法结果会有误差，在两个浮点数相乘的时候会比较明显。这个函数返回较为精确的乘法结果。\n//调用：accMul(arg1,arg2)\n//返回值：arg1乘以arg2的精确结果\nfunction accMul(arg1, arg2) {\n\tvar m = 0, s1 = arg1.toString(), s2 = arg2.toString();\n\ttry { m += s1.split(\".\")[1].length } catch (e) { }\n\ttry { m += s2.split(\".\")[1].length } catch (e) { }\n\n\treturn Number(s1.replace(\".\", \"\")) * Number(s2.replace(\".\", \"\")) / Math.pow(10, m);\n}\n//加法函数，用来得到精确的加法结果\n//说明：javascript的加法结果会有误差，在两个浮点数相加的时候会比较明显。这个函数返回较为精确的加法结果。\n//调用：accAdd(arg1,arg2)\n//返回值：arg1加上arg2的精确结果\nfunction accAdd(arg1, arg2) {\n\tvar r1, r2, m;\n\ttry { r1 = arg1.toString().split(\".\")[1].length; } catch (e) { r1 = 0; }\n\ttry { r2 = arg2.toString().split(\".\")[1].length; } catch (e) { r2 = 0; }\n\tm = Math.pow(10, Math.max(r1, r2));\n\treturn (arg1 * m + arg2 * m) / m;\n}\n//减法函数\nfunction accSub(arg1, arg2) {\n\tvar r1, r2, m, n;\n\ttry {\n\t\tr1 = arg1.toString().split(\".\")[1].length;\n\t} catch (e) {\n\t\tr1 = 0;\n\t}\n\ttry {\n\t\tr2 = arg2.toString().split(\".\")[1].length;\n\t} catch (e) {\n\t\tr2 = 0;\n\t}\n\tm = Math.pow(10, Math.max(r1, r2));\n\t//last modify by deeka\n\t//动态控制精度长度\n\tn = (r1 >= r2) ? r1 : r2;\n\treturn ((arg2 * m - arg1 * m) / m).toFixed(n);\n}\n\n\n//给Number类型增加一个add方法，调用起来更加方便。\nNumber.prototype.add = function (arg) {\n\treturn accAdd(arg, this);\n};\n//给Number类增加一个sub方法，调用起来更加方便\nNumber.prototype.sub = function (arg) {\n\treturn accSub(arg, this);\n};\n//给Number类型增加一个mul方法\nNumber.prototype.mul = function (arg) {\n\treturn accMul(arg, this);\n};\n//给Number类型扩展一个div方法\nNumber.prototype.div = function (arg) {\n\treturn accDiv(this, arg);\n};\n\nexport {\n  accDiv,\n  accMul,\n  accAdd,\n  accSub,\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/calculate.js","<template>\n  <section>\n    <!--工具条-->\n    <el-col :span=\"24\" class=\"toolbar\" style=\"padding-bottom: 0px\">\n      <el-form :inline=\"true\" :model=\"filters\">\n        <el-form-item>\n          <el-input\n            v-model=\"filters.nature_of_use\"\n            placeholder=\"使用性质\"\n            @keydown.enter.native=\"getOrders\"\n          ></el-input>\n        </el-form-item>\n\n        <el-form-item>\n          <el-input\n            v-model=\"filters.chanel_rate_id__chanel\"\n            placeholder=\"渠道\"\n            @keydown.enter.native=\"getOrders\"\n          ></el-input>\n        </el-form-item>\n        <el-date-picker\n          v-model=\"filters.datetimerange\"\n          type=\"daterange\"\n          range-separator=\"至\"\n          start-placeholder=\"保单生成开始时段\"\n          end-placeholder=\"保单生成结束时段\"\n          value-format=\"yyyy-MM-dd\"\n        >\n        </el-date-picker>\n\n        <el-form-item>\n          <el-select\n            v-model=\"filters.settlement_status\"\n            clearable\n            placeholder=\"请选择\"\n          >\n            <el-option\n              v-for=\"item in options\"\n              :key=\"item.settlement_status\"\n              :label=\"item.label\"\n              :value=\"item.settlement_status\"\n            >\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button type=\"primary\" v-on:click=\"getOrders\">筛选</el-button>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button @click=\"showSettlementDialog\">结算当前选中</el-button>\n        </el-form-item>\n\n        <el-form-item> </el-form-item>\n      </el-form>\n    </el-col>\n\n    <!--列表\n     :summary-method=\"getSummaries\"\n    -->\n    <el-table\n      v-loading=\"loading\"\n      :data=\"orders\"\n      highlight-current-row\n      style=\"width: 100%\"\n      border\n      @selection-change=\"handleSelectionChange\"\n      ref=\"multipleTable\"\n      show-summary\n    >\n      <el-table-column type=\"selection\" width=\"55\"> </el-table-column>\n\n      <el-table-column prop=\"nature_of_use\" label=\"使用性质\"> </el-table-column>\n\n      <el-table-column prop=\"generation_date\" label=\"保单生成日期\" sortable>\n      </el-table-column>\n\n      <!-- <el-table-column prop=\"jiaoqiang_insure_no\" label=\"交强投保单号\" sortable>\n      </el-table-column>\n\n      <el-table-column\n        prop=\"commercial_insure_no\"\n        label=\"商业投保单号\"\n        sortable\n      >\n      </el-table-column> -->\n\n      <!-- <el-table-column\n        prop=\"jiaoqiang_insurance_start_date\"\n        label=\"交强起保日期\"\n        sortable\n      >\n      </el-table-column>\n\n      <el-table-column\n        prop=\"jiaoqiang_insurance_end_date\"\n        label=\"交强终止日期\"\n        sortable\n      >\n      </el-table-column>\n\n      <el-table-column\n        prop=\"commercial_insurance_start_date\"\n        label=\"商业险起保日期\"\n        sortable\n      >\n      </el-table-column>\n\n      <el-table-column\n        prop=\"commercial_insurance_end_date\"\n        label=\"商业险终止日期\"\n        sortable\n      >\n      </el-table-column> -->\n\n      <el-table-column prop=\"commercial_insurance_no\" label=\"商业险保单号\">\n      </el-table-column>\n\n      <el-table-column prop=\"jiaoqiang_insurance_no\" label=\"交强险保单号\">\n      </el-table-column>\n\n      <!-- <el-table-column\n        prop=\"applicant_certificate_number\"\n        label=\"投保人证件号码\"\n        sortable\n      >\n      </el-table-column> -->\n\n      <el-table-column prop=\"applicant\" label=\"投保人\"> </el-table-column>\n\n      <el-table-column prop=\"insured\" label=\"被保险人\"> </el-table-column>\n      <!-- <el-table-column prop=\"vehicel_owner\" label=\"车主\" sortable>\n      </el-table-column> -->\n      <!-- <el-table-column prop=\"license_plate\" label=\"车牌\" sortable>\n      </el-table-column>\n\n      <el-table-column prop=\"chassis_number\" label=\"车架号\" sortable>\n      </el-table-column>\n      <el-table-column prop=\"engine_number\" label=\"发动机号\" sortable>\n      </el-table-column> -->\n      <el-table-column prop=\"commercial_insurance_amount\" label=\"商业险金额\">\n      </el-table-column>\n      <el-table-column prop=\"jiaoqiang_insurance_amount\" label=\"交强险金额\">\n      </el-table-column>\n      <el-table-column prop=\"vehicel_and_vessel_tax\" label=\"车船税\">\n      </el-table-column>\n      <el-table-column prop=\"total_premium\" label=\"保费合计\"> </el-table-column>\n      <el-table-column prop=\"salesman\" label=\"业务员\"> </el-table-column>\n      <!-- <el-table-column prop=\"business_source\" label=\"业务来源\" sortable>\n      </el-table-column> -->\n      <el-table-column prop=\"chanel_rate_id.chanel\" label=\"渠道\">\n      </el-table-column>\n\n      <el-table-column label=\"结算状态\">\n        <template scope=\"scope\">\n          <span v-if=\"scope.row.settlement_status\">是</span>\n          <span v-else>否</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"结算金额\" width=\"200px\">\n        <template scope=\"scope\">\n          <div>商业险金额：{{ scope.row.commercial_insurance_amount_fee }}</div>\n\n          <div>交强险金额：{{ scope.row.jiaoqiang_insurance_amount_fee }}</div>\n          <div>总金额：{{ scope.row.total_amount }}</div>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"结算表单\" width=\"330px\">\n        <template scope=\"scope\">\n          <div v-if=\"!scope.row.settlement_status\">\n            <div>\n              费率计算金额：\n              <el-tag>{{ scope.row.settlementForm.settlement_fee }}</el-tag>\n            </div>\n\n            <div>\n              实际结算金额：\n              <el-input-number\n                v-model=\"scope.row.settlementForm.actual_settlement_fee\"\n                :precision=\"2\"\n                controls-position=\"right\"\n              ></el-input-number>\n            </div>\n            <div>\n              结算日期：\n              <el-date-picker\n                v-model=\"scope.row.settlementForm.settlement_date\"\n                type=\"datetime\"\n                placeholder=\"选择日期时间\"\n                value-format=\"yyyy-MM-dd HH:mm:ss\"\n              >\n              </el-date-picker>\n            </div>\n            <div>\n              <span style=\"width: 150px\">结算方式：</span>\n\n              <div style=\"width: 220px; display: inline-block\">\n                <el-input\n                  v-model=\"scope.row.settlementForm.settlement_method\"\n                  placeholder=\"结算方式\"\n                ></el-input>\n              </div>\n            </div>\n            <div>\n              <span style=\"width: 150px\">收款账号：</span>\n\n              <div style=\"width: 220px; display: inline-block\">\n                <el-input\n                  v-model=\"scope.row.settlementForm.receiving_account\"\n                  placeholder=\"收款账号\"\n                ></el-input>\n              </div>\n            </div>\n            <div>\n              <span>备注备注：</span>\n\n              <div style=\"width: 220px; display: inline-block\">\n                <el-input\n                  v-model=\"scope.row.settlementForm.note\"\n                  placeholder=\"备注\"\n                ></el-input>\n              </div>\n            </div>\n            <div>\n              <el-button\n                type=\"primary\"\n                @click=\"subSettlement(scope.row.settlementForm)\"\n                >结算</el-button\n              >\n            </div>\n          </div>\n          <div v-else>\n            <section style=\"width: 300px\">\n              <span class=\"span_first\"> 结算单id：</span>\n              {{ scope.row.settlements_id.id }}\n            </section>\n\n            <section style=\"width: 300px\">\n              <span class=\"span_first\"> 结算单id：</span>\n              实际结算金额:\n              {{ scope.row.settlements_id.actual_settlement_fee }}\n            </section>\n\n            <section style=\"width: 300px\">\n              <span class=\"span_first\"> 结算日期：</span>\n              结算日期：\n              {{ scope.row.settlements_id.settlement_date }}\n            </section>\n\n            <section>\n              <span class=\"span_first\"> 结算方式:</span>\n              {{ scope.row.settlements_id.settlement_method }}\n            </section>\n            <section>\n              <span class=\"span_first\"> 收款账号：</span>\n              {{ scope.row.settlements_id.receiving_account }}\n            </section>\n            <section>\n              <span class=\"span_first\"> 备注:</span>\n              {{ scope.row.settlements_id.note }}\n            </section>\n          </div>\n        </template>\n      </el-table-column>\n\n      <!-- <el-table-column prop=\"note\" label=\"备注\" sortable> </el-table-column> -->\n    </el-table>\n\n    <el-button>结算当前选中</el-button>\n\n    <!--工具条-->\n    <el-col :span=\"24\" class=\"toolbar\">\n      <el-pagination\n        layout=\"prev, pager, next\"\n        @current-change=\"handleCurrentChange\"\n        :page-size=\"pageSize\"\n        :total=\"total\"\n        style=\"float: right\"\n      >\n      </el-pagination>\n    </el-col>\n\n    <!-- 结算dialog -->\n\n    <el-dialog title=\"结算页面\" :visible.sync=\"settlementDialog\">\n      <el-form\n        class=\"demo-form-inline\"\n        :model=\"settlementData\"\n        label-width=\"180px\"\n        :inline=\"true\"\n      >\n        <div>\n          <h1>选中的保单号</h1>\n          <span v-for=\"item in multipleSelection\" :key=\"item.id\">\n            {{ item.jiaoqiang_insurance_no }}\n          </span>\n        </div>\n\n        <el-form-item label=\"结算总金额\">\n          {{ settlementData.settlement_fee }}\n        </el-form-item>\n\n        <el-form-item label=\"实际结算总金额\">\n          <el-input-number\n            v-model=\"settlementData.actual_settlement_fee\"\n            :precision=\"2\"\n            controls-position=\"right\"\n          ></el-input-number>\n        </el-form-item>\n\n        <el-form-item label=\"结算日期\">\n          <el-date-picker\n            v-model=\"settlementData.settlement_date\"\n            type=\"datetime\"\n            placeholder=\"选择日期时间\"\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\n          >\n          </el-date-picker>\n        </el-form-item>\n\n        <el-form-item label=\"结算方式\">\n          <el-input\n            v-model=\"settlementData.settlement_method\"\n            auto-complete=\"off\"\n          ></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"收款账号\">\n          <el-input\n            v-model=\"settlementData.receiving_account\"\n            auto-complete=\"off\"\n          ></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"备注\">\n          <el-input\n            v-model=\"settlementData.note\"\n            auto-complete=\"off\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"settlementDialog = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"subSettlement(settlementData)\"\n          >提交</el-button\n        >\n      </div>\n    </el-dialog>\n    <!-- 结算dialog 结束 -->\n  </section>\n</template>\n\n\n<script>\nimport { accMul, accAdd } from \"../../util/calculate.js\";\n\nexport default {\n  data() {\n    return {\n      // 读取时 遮罩层\n      loading: false,\n      options: [\n        {\n          settlement_status: 1,\n          label: \"已结算\",\n        },\n        {\n          settlement_status: 0,\n          label: \"未结算\",\n        },\n      ],\n\n      // 搜索选项\n      filters: {\n        settlement_status: null,\n        datetimerange: [\"2021-01-01\", \"2021-12-01\"],\n      },\n      orders: [],\n      pageNum: 1,\n      pageSize: 100,\n      total: 0,\n\n      // 表格多选\n      multipleSelection: [],\n\n      // 结算dialog 结算 form\n      settlementDialog: false,\n      settlementData: {\n        settlement_date: new Date(),\n        receiving_account: '',\n        note:'',\n        settlement_method:''\n      },\n    };\n  },\n  async created() {\n    this.getOrders();\n  },\n  methods: {\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n\n    handleCurrentChange(val) {\n      this.page = val;\n      this.getOrders();\n    },\n    //提交结算结果\n    async subSettlement(settlementData) {\n      if (isNaN(settlementData.actual_settlement_fee)) {\n        this.$message.info(\"当前结算金额为0,请选择正确的保单进行结算\");\n        this.loading = false;\n        return;\n      } else {\n      }\n      // new Date() 事件对象 转换成  str\n      if (typeof settlementData.settlement_date == \"object\") {\n        settlementData.settlement_date = settlementData.settlement_date.format(\n          \"yyyy-MM-dd hh:mm:ss\"\n        );\n      }\n      let res = await this.$axios.post(\n        \"Settlements/sub_settlements/\",\n        settlementData\n      );\n      this.$message.success(res.message);\n      this.settlementDialog = false;\n      this.getOrders();\n    },\n    // 显示dialog 计算总金额\n    showSettlementDialog() {\n      this.settlementData.actual_settlement_fee = 0;\n      this.settlementData.settlement_date = new Date();\n\n      this.settlementData.insurance_arr = [];\n\n      let this_ = this;\n\n      for (let i = 0; i < this.multipleSelection.length; i++) {\n        if (this.multipleSelection[i].settlement_status == 1) {\n          this_.settlementDialog = false;\n          this_.$message.info(\"包含已结算保单，请重新勾选\");\n          return null;\n        } else {\n          this_.settlementData.insurance_arr.push(this.multipleSelection[i].id);\n          this_.settlementData.actual_settlement_fee = accAdd(\n            this_.settlementData.actual_settlement_fee,\n            this.multipleSelection[i].settlementForm.actual_settlement_fee\n          );\n          this_.settlementData.settlement_fee =\n            this_.settlementData.actual_settlement_fee;\n        }\n      }\n      if (isNaN(this_.settlementData.settlement_fee)) {\n        this.$message.info(\"包含未匹配费率的保单,请重新勾选\");\n        return;\n      }\n\n      console.log(this.multipleSelection);\n\n      this.settlementDialog = true;\n\n      // 由于forEach不支持break forEach 换成for 循环\n      // this.multipleSelection.forEach(function (value, index, array) {\n      //   console.log(value.settlement_status);\n      //   if (value.settlement_status == 1) {\n      //     this_.settlementDialog = false;\n      //     this_.$message.info(\"包含已结算保单，请重新勾选\");\n      //     return null;\n      //   } else {\n      //     this_.settlementData.insurance_arr.push(value.id);\n      //     this_.settlementData.actual_settlement_fee = accAdd(\n      //       this_.settlementData.actual_settlement_fee,\n      //       value.settlementForm.actual_settlement_fee\n      //     );\n      //   }\n      // });\n    },\n\n    async getOrders() {\n      this.loading = true;\n\n      const res = await this.$axios(\"InsurancePolicySettlements/\", {\n        params: {\n          page_size: this.pageSize,\n          nature_of_use: this.filters.nature_of_use,\n          chanel_rate_id__chanel: this.filters.chanel_rate_id__chanel,\n          settlement_status: this.filters.settlement_status,\n          startTime: this.filters.datetimerange[0],\n          endTime: this.filters.datetimerange[1],\n        },\n      });\n\n      //console.log(data);\n      let data = res.data;\n      if (data.length == 0 || !data) {\n        this.orders = data;\n        this.loading = false\n        return;\n      }\n\n      // 判断是否结算，已结算就 获得结算信息  未结算就 计算 费率金额\n      for (let i = 0; i < data.length; i++) {\n        let settlementForm = {};\n        if (data[i].settlement_status == 0) {\n          settlementForm.actual_settlement_fee = null;\n          settlementForm.settlement_date = new Date();\n          settlementForm.insurance_arr = [];\n          settlementForm.insurance_arr.push(data[i].id);\n          settlementForm.note = \"\";\n          settlementForm.settlement_method = \"\";\n          settlementForm.receiving_account = \"\";\n        } else {\n          // 获得结算信息\n        }\n\n        data[i].settlementForm = Object.assign({}, settlementForm);\n        // 异步获得结算费率\n        this.$axios\n          .post(\"Settlements/get_settlements_insurance/\", {\n            insurance_id: data[i].id,\n            nature_of_use: data[i].nature_of_use,\n            generation_date: data[i].generation_date,\n          })\n          .then((res) => {\n            // console.log(res)\n            //data[i].commercial_insurance_amount_fee = res.data.commercial_insurance_amount_fee\n\n            let total_amount = accAdd(\n              res.data.commercial_insurance_amount_fee,\n              res.data.jiaoqiang_insurance_amount_fee\n            );\n\n            let jiaoqiang_fee = res.data.jiaoqiang_fee;\n            let commercial_fee = res.data.commercial_fee;\n\n            let settlementForm_ = Object.assign(data[i].settlementForm, {\n              actual_settlement_fee: total_amount,\n              settlement_fee: total_amount,\n            });\n            this.$set(\n              data,\n              i,\n              Object.assign(data[i], {\n                commercial_insurance_amount_fee:\n                  res.data.commercial_insurance_amount_fee +\n                  \" /费率:\" +\n                  commercial_fee + \"%\",\n                jiaoqiang_insurance_amount_fee:\n                  res.data.jiaoqiang_insurance_amount_fee +\n                  \" /费率:\" +\n                  jiaoqiang_fee + \"%\",\n                total_amount: total_amount,\n                settlementForm: settlementForm_,\n              })\n            );\n\n            //console.log(data[i]);\n          });\n      }\n\n      //console.log(data)\n      this.orders = data;\n      this.total = res.count;\n\n      this.loading = false;\n    },\n    // 表尾 合计 逻辑\n    getSummaries(param) {\n      const { columns, data } = param;\n      const sums = [];\n      columns.forEach((column, index) => {\n        if (index === 0) {\n          sums[index] = \"总价\";\n          return;\n        }\n        const values = data.map((item) => Number(item[column.property]));\n        if (!values.every((value) => isNaN(value))) {\n          sums[index] = values.reduce((prev, curr) => {\n            const value = Number(curr);\n            if (!isNaN(value)) {\n              return prev + curr;\n            } else {\n              return prev;\n            }\n          }, 0);\n          sums[index] += \" 元\";\n        } else {\n          sums[index] = \"N/A\";\n        }\n      });\n\n      return sums;\n    },\n  },\n};\n</script>\n\n<style>\n#el_link {\n  position: relative;\n}\n.span_first {\n  display: inline-block;\n  width: 100px;\n}\n.span_end {\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// Settlements.vue?1489a132","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"#el_link{position:relative}.span_first{display:inline-block;width:100px}\", \"\", {\"version\":3,\"sources\":[\"D:/OutsourcingProject/Insurance_policy_system/InsuranceFront/src/views/Insurance/Settlements.vue\"],\"names\":[],\"mappings\":\"AACA,SACE,iBAAmB,CACpB,AACD,YACE,qBAAsB,AACtB,WAAa,CACd\",\"file\":\"Settlements.vue\",\"sourcesContent\":[\"\\n#el_link {\\n  position: relative;\\n}\\n.span_first {\\n  display: inline-block;\\n  width: 100px;\\n}\\n.span_end {\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-5a459812\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/Insurance/Settlements.vue\n// module id = 767\n// module chunks = 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-5a459812\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Settlements.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"6343fe51\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-5a459812\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/Insurance/Settlements.vue\n// module id = 776\n// module chunks = 3","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', [_c('el-col', {\n    staticClass: \"toolbar\",\n    staticStyle: {\n      \"padding-bottom\": \"0px\"\n    },\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-form', {\n    attrs: {\n      \"inline\": true,\n      \"model\": _vm.filters\n    }\n  }, [_c('el-form-item', [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"使用性质\"\n    },\n    nativeOn: {\n      \"keydown\": function($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) { return null; }\n        return _vm.getOrders.apply(null, arguments)\n      }\n    },\n    model: {\n      value: (_vm.filters.nature_of_use),\n      callback: function($$v) {\n        _vm.$set(_vm.filters, \"nature_of_use\", $$v)\n      },\n      expression: \"filters.nature_of_use\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"渠道\"\n    },\n    nativeOn: {\n      \"keydown\": function($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) { return null; }\n        return _vm.getOrders.apply(null, arguments)\n      }\n    },\n    model: {\n      value: (_vm.filters.chanel_rate_id__chanel),\n      callback: function($$v) {\n        _vm.$set(_vm.filters, \"chanel_rate_id__chanel\", $$v)\n      },\n      expression: \"filters.chanel_rate_id__chanel\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-date-picker', {\n    attrs: {\n      \"type\": \"daterange\",\n      \"range-separator\": \"至\",\n      \"start-placeholder\": \"保单生成开始时段\",\n      \"end-placeholder\": \"保单生成结束时段\",\n      \"value-format\": \"yyyy-MM-dd\"\n    },\n    model: {\n      value: (_vm.filters.datetimerange),\n      callback: function($$v) {\n        _vm.$set(_vm.filters, \"datetimerange\", $$v)\n      },\n      expression: \"filters.datetimerange\"\n    }\n  }), _vm._v(\" \"), _c('el-form-item', [_c('el-select', {\n    attrs: {\n      \"clearable\": \"\",\n      \"placeholder\": \"请选择\"\n    },\n    model: {\n      value: (_vm.filters.settlement_status),\n      callback: function($$v) {\n        _vm.$set(_vm.filters, \"settlement_status\", $$v)\n      },\n      expression: \"filters.settlement_status\"\n    }\n  }, _vm._l((_vm.options), function(item) {\n    return _c('el-option', {\n      key: item.settlement_status,\n      attrs: {\n        \"label\": item.label,\n        \"value\": item.settlement_status\n      }\n    })\n  }), 1)], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.getOrders\n    }\n  }, [_vm._v(\"筛选\")])], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    on: {\n      \"click\": _vm.showSettlementDialog\n    }\n  }, [_vm._v(\"结算当前选中\")])], 1), _vm._v(\" \"), _c('el-form-item')], 1)], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    ref: \"multipleTable\",\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.orders,\n      \"highlight-current-row\": \"\",\n      \"border\": \"\",\n      \"show-summary\": \"\"\n    },\n    on: {\n      \"selection-change\": _vm.handleSelectionChange\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"width\": \"55\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"nature_of_use\",\n      \"label\": \"使用性质\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"generation_date\",\n      \"label\": \"保单生成日期\",\n      \"sortable\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"commercial_insurance_no\",\n      \"label\": \"商业险保单号\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"jiaoqiang_insurance_no\",\n      \"label\": \"交强险保单号\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"applicant\",\n      \"label\": \"投保人\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"insured\",\n      \"label\": \"被保险人\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"commercial_insurance_amount\",\n      \"label\": \"商业险金额\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"jiaoqiang_insurance_amount\",\n      \"label\": \"交强险金额\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"vehicel_and_vessel_tax\",\n      \"label\": \"车船税\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"total_premium\",\n      \"label\": \"保费合计\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"salesman\",\n      \"label\": \"业务员\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"chanel_rate_id.chanel\",\n      \"label\": \"渠道\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"结算状态\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [(scope.row.settlement_status) ? _c('span', [_vm._v(\"是\")]) : _c('span', [_vm._v(\"否\")])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"结算金额\",\n      \"width\": \"200px\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('div', [_vm._v(\"商业险金额：\" + _vm._s(scope.row.commercial_insurance_amount_fee))]), _vm._v(\" \"), _c('div', [_vm._v(\"交强险金额：\" + _vm._s(scope.row.jiaoqiang_insurance_amount_fee))]), _vm._v(\" \"), _c('div', [_vm._v(\"总金额：\" + _vm._s(scope.row.total_amount))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"结算表单\",\n      \"width\": \"330px\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [(!scope.row.settlement_status) ? _c('div', [_c('div', [_vm._v(\"\\n            费率计算金额：\\n            \"), _c('el-tag', [_vm._v(_vm._s(scope.row.settlementForm.settlement_fee))])], 1), _vm._v(\" \"), _c('div', [_vm._v(\"\\n            实际结算金额：\\n            \"), _c('el-input-number', {\n          attrs: {\n            \"precision\": 2,\n            \"controls-position\": \"right\"\n          },\n          model: {\n            value: (scope.row.settlementForm.actual_settlement_fee),\n            callback: function($$v) {\n              _vm.$set(scope.row.settlementForm, \"actual_settlement_fee\", $$v)\n            },\n            expression: \"scope.row.settlementForm.actual_settlement_fee\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', [_vm._v(\"\\n            结算日期：\\n            \"), _c('el-date-picker', {\n          attrs: {\n            \"type\": \"datetime\",\n            \"placeholder\": \"选择日期时间\",\n            \"value-format\": \"yyyy-MM-dd HH:mm:ss\"\n          },\n          model: {\n            value: (scope.row.settlementForm.settlement_date),\n            callback: function($$v) {\n              _vm.$set(scope.row.settlementForm, \"settlement_date\", $$v)\n            },\n            expression: \"scope.row.settlementForm.settlement_date\"\n          }\n        })], 1), _vm._v(\" \"), _c('div', [_c('span', {\n          staticStyle: {\n            \"width\": \"150px\"\n          }\n        }, [_vm._v(\"结算方式：\")]), _vm._v(\" \"), _c('div', {\n          staticStyle: {\n            \"width\": \"220px\",\n            \"display\": \"inline-block\"\n          }\n        }, [_c('el-input', {\n          attrs: {\n            \"placeholder\": \"结算方式\"\n          },\n          model: {\n            value: (scope.row.settlementForm.settlement_method),\n            callback: function($$v) {\n              _vm.$set(scope.row.settlementForm, \"settlement_method\", $$v)\n            },\n            expression: \"scope.row.settlementForm.settlement_method\"\n          }\n        })], 1)]), _vm._v(\" \"), _c('div', [_c('span', {\n          staticStyle: {\n            \"width\": \"150px\"\n          }\n        }, [_vm._v(\"收款账号：\")]), _vm._v(\" \"), _c('div', {\n          staticStyle: {\n            \"width\": \"220px\",\n            \"display\": \"inline-block\"\n          }\n        }, [_c('el-input', {\n          attrs: {\n            \"placeholder\": \"收款账号\"\n          },\n          model: {\n            value: (scope.row.settlementForm.receiving_account),\n            callback: function($$v) {\n              _vm.$set(scope.row.settlementForm, \"receiving_account\", $$v)\n            },\n            expression: \"scope.row.settlementForm.receiving_account\"\n          }\n        })], 1)]), _vm._v(\" \"), _c('div', [_c('span', [_vm._v(\"备注备注：\")]), _vm._v(\" \"), _c('div', {\n          staticStyle: {\n            \"width\": \"220px\",\n            \"display\": \"inline-block\"\n          }\n        }, [_c('el-input', {\n          attrs: {\n            \"placeholder\": \"备注\"\n          },\n          model: {\n            value: (scope.row.settlementForm.note),\n            callback: function($$v) {\n              _vm.$set(scope.row.settlementForm, \"note\", $$v)\n            },\n            expression: \"scope.row.settlementForm.note\"\n          }\n        })], 1)]), _vm._v(\" \"), _c('div', [_c('el-button', {\n          attrs: {\n            \"type\": \"primary\"\n          },\n          on: {\n            \"click\": function($event) {\n              return _vm.subSettlement(scope.row.settlementForm)\n            }\n          }\n        }, [_vm._v(\"结算\")])], 1)]) : _c('div', [_c('section', {\n          staticStyle: {\n            \"width\": \"300px\"\n          }\n        }, [_c('span', {\n          staticClass: \"span_first\"\n        }, [_vm._v(\" 结算单id：\")]), _vm._v(\"\\n            \" + _vm._s(scope.row.settlements_id.id) + \"\\n          \")]), _vm._v(\" \"), _c('section', {\n          staticStyle: {\n            \"width\": \"300px\"\n          }\n        }, [_c('span', {\n          staticClass: \"span_first\"\n        }, [_vm._v(\" 结算单id：\")]), _vm._v(\"\\n            实际结算金额:\\n            \" + _vm._s(scope.row.settlements_id.actual_settlement_fee) + \"\\n          \")]), _vm._v(\" \"), _c('section', {\n          staticStyle: {\n            \"width\": \"300px\"\n          }\n        }, [_c('span', {\n          staticClass: \"span_first\"\n        }, [_vm._v(\" 结算日期：\")]), _vm._v(\"\\n            结算日期：\\n            \" + _vm._s(scope.row.settlements_id.settlement_date) + \"\\n          \")]), _vm._v(\" \"), _c('section', [_c('span', {\n          staticClass: \"span_first\"\n        }, [_vm._v(\" 结算方式:\")]), _vm._v(\"\\n            \" + _vm._s(scope.row.settlements_id.settlement_method) + \"\\n          \")]), _vm._v(\" \"), _c('section', [_c('span', {\n          staticClass: \"span_first\"\n        }, [_vm._v(\" 收款账号：\")]), _vm._v(\"\\n            \" + _vm._s(scope.row.settlements_id.receiving_account) + \"\\n          \")]), _vm._v(\" \"), _c('section', [_c('span', {\n          staticClass: \"span_first\"\n        }, [_vm._v(\" 备注:\")]), _vm._v(\"\\n            \" + _vm._s(scope.row.settlements_id.note) + \"\\n          \")])])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('el-button', [_vm._v(\"结算当前选中\")]), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"toolbar\",\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-pagination', {\n    staticStyle: {\n      \"float\": \"right\"\n    },\n    attrs: {\n      \"layout\": \"prev, pager, next\",\n      \"page-size\": _vm.pageSize,\n      \"total\": _vm.total\n    },\n    on: {\n      \"current-change\": _vm.handleCurrentChange\n    }\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"结算页面\",\n      \"visible\": _vm.settlementDialog\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.settlementDialog = $event\n      }\n    }\n  }, [_c('el-form', {\n    staticClass: \"demo-form-inline\",\n    attrs: {\n      \"model\": _vm.settlementData,\n      \"label-width\": \"180px\",\n      \"inline\": true\n    }\n  }, [_c('div', [_c('h1', [_vm._v(\"选中的保单号\")]), _vm._v(\" \"), _vm._l((_vm.multipleSelection), function(item) {\n    return _c('span', {\n      key: item.id\n    }, [_vm._v(\"\\n          \" + _vm._s(item.jiaoqiang_insurance_no) + \"\\n        \")])\n  })], 2), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"结算总金额\"\n    }\n  }, [_vm._v(\"\\n        \" + _vm._s(_vm.settlementData.settlement_fee) + \"\\n      \")]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"实际结算总金额\"\n    }\n  }, [_c('el-input-number', {\n    attrs: {\n      \"precision\": 2,\n      \"controls-position\": \"right\"\n    },\n    model: {\n      value: (_vm.settlementData.actual_settlement_fee),\n      callback: function($$v) {\n        _vm.$set(_vm.settlementData, \"actual_settlement_fee\", $$v)\n      },\n      expression: \"settlementData.actual_settlement_fee\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"结算日期\"\n    }\n  }, [_c('el-date-picker', {\n    attrs: {\n      \"type\": \"datetime\",\n      \"placeholder\": \"选择日期时间\",\n      \"value-format\": \"yyyy-MM-dd HH:mm:ss\"\n    },\n    model: {\n      value: (_vm.settlementData.settlement_date),\n      callback: function($$v) {\n        _vm.$set(_vm.settlementData, \"settlement_date\", $$v)\n      },\n      expression: \"settlementData.settlement_date\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"结算方式\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.settlementData.settlement_method),\n      callback: function($$v) {\n        _vm.$set(_vm.settlementData, \"settlement_method\", $$v)\n      },\n      expression: \"settlementData.settlement_method\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"收款账号\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.settlementData.receiving_account),\n      callback: function($$v) {\n        _vm.$set(_vm.settlementData, \"receiving_account\", $$v)\n      },\n      expression: \"settlementData.receiving_account\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"备注\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.settlementData.note),\n      callback: function($$v) {\n        _vm.$set(_vm.settlementData, \"note\", $$v)\n      },\n      expression: \"settlementData.note\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.settlementDialog = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        return _vm.subSettlement(_vm.settlementData)\n      }\n    }\n  }, [_vm._v(\"提交\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-5a459812\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/Insurance/Settlements.vue\n// module id = 788\n// module chunks = 3"],"sourceRoot":""}